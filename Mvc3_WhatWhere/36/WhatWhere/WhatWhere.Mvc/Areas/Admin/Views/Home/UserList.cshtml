@using WhatWhere.Entity.Concrete
@model List<User>
<h1 class="display-6 mt-3">Kullanıcılar</h1>
<hr />
<div class="row">
    <table class="table table-responsive-sm table-striped table-hover">
        <thead>
            <tr>
                <th>Kullanıcı Adı</th>
                <th>Ad Soyad</th>
                <th>Email</th>
                <th>Email Onayı</th>
                <th>İşlemler</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model)
            {
                <tr>
                    <td>@user.UserName</td>
                    <td>@user.FirstName @user.LastName</td>
                    <td>@user.Email</td>
                    <td>
                        <form class="form-check"
                            asp-area="Admin"
                            asp-controller="Home"
                            asp-action="ConfirmEmail"
                            asp-route-id="@user.Id"
                            id="formConfirmEmail_@user.Id"
                        >
                            <div class="form-check form-switch">
                                <input 
                                    class="form-check-input" 
                                    type="checkbox"
                                    role="switch"
                                    asp-for="@user.EmailConfirmed"
                                       onchange="document.getElementById('formConfirmEmail_@user.Id').submit()" />
                            </div>
                        </form>
                    </td>
                    <td>
                        <a class="btn btn-danger btn-sm"
                            asp-area="Admin"
                            asp-controller="Home"
                            asp-action="UserDelete"
                            asp-route-id="@user.Id"
                        >Sil</a>
                        <a class="btn btn-warning btn-sm"
                            asp-area="Admin"
                            asp-controller="Home"
                            asp-action="UserEdit"
                            asp-route-id="@user.Id"
                        >Düzenle</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

